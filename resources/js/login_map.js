$(document).ready(function(){function f(){function e(){if($(window).width()<960){var e=n.css("left");e=e.substr(0,e.length-2),e=parseFloat(e,10),e<263.5&&n.css("left","263.5px")}}function t(){r.popover("show"),e()}o=!0,r.popover({animation:!1,html:!0,content:i.html(),placement:"bottom",trigger:"manual",container:".content-wrapper",template:"<div class='popover login-error-popover'><div class='pointer-yellow custom-popover-arrow'></div><div class='popover-inner'><h3 class='popover-title'></h3><div class='popover-content'><p></p></div></div></div>"}),r.popover("show"),$(window).on("resize",t);var n=$(".popover");n.on("click",function(e){var t=$(e.target);if(t.hasClass("btn"))return;r.popover("hide")}),r.popover().on("hidden.bs.popover",function(){$(window).off("resize",t),n.off("click"),o=!1}),e()}function l(){u=!0;var e=$(".modal");e.modal({backdrop:"static",keyboard:!1,show:!0}),e.find(".ok").click(function(t){e.modal("hide")}),e.on("hidden.bs.modal",function(){u=!1})}function m(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:Date.now||function(){return(new Date).getTime()},o=null,s=e.apply(r,i),r=i=null};return function(){var f=Date.now||function(){return(new Date).getTime()};!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}}function x(e){return e===0?"/assets/images/flyover/001_ggb.jpg":e===1?"/assets/images/flyover/002_cp.jpg":e===2?"/assets/images/flyover/005_sh.jpg":e===3?"/assets/images/flyover/006_pw.jpg":e===4?"/assets/images/flyover/007_cls.jpg":e===5?"/assets/images/flyover/008_shb.jpg":undefined}function T(e){return"url("+e+")"}function F(){if(j)return;j=!0,k.removeClass("bg-initial").css("background-image",T(B.src)),setTimeout(H,7500)}var e=$("input[name='login']"),t=$("input[name='password']"),n=$(".password-button"),r=$("form:first"),i=$("#error-message"),s=!0,o=!1,u=!1;$("input").placeholder();var a=!1;if(/Android.*Mobile/i.test(navigator.userAgent)||/webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))a=!0;BrowserInfo.browser.indexOf("Explorer")!==-1&&BrowserInfo.version<=10&&t.css("width","248px").css("padding-right","0");if(i.length)if(a){var c=i.find("#error-msg-header");if(c.length){var h=c.text().trim();if(!i.hasClass("badcred")){var p=i.find("#error-msg-body").text().trim();p&&(h.charAt(h.length-1)!=="."&&(h+="."),h+=" "+p)}var d=$("<div class='error-msg-mobile'><span class='icon-alert-small error-msg-icon'></span> "+h+"</div>");$(".indoor-login").after(d)}}else i.hasClass("badcred")?f():l();var v=$(".placeholder").length!==0||BrowserInfo.browser==="Explorer",g=function(){var n=!1;if(!e.val()||!t.val())n=!0;if($.browser.webkit&&$("input:-webkit-autofill").length===2){if(s&&(BrowserInfo.OS==="iPad"||BrowserInfo.OS.indexOf("iPhone")!==-1||BrowserInfo.OS.indexOf("iPod")!==-1)){var r=e.clone(),i=t.clone(),o=e.parent(),u=t.parent();e.remove(),t.remove(),o.prepend(r),u.prepend(i),e=r,t=i}n=!1}return n},y=function(){return g()?n.removeClass("active"):n.addClass("active"),s&&(w&&!v&&(e.val()?t.focus():e.focus()),s=!1),!1},b=m(y,100),w=setInterval(b,100);setTimeout(function(){w&&(clearInterval(w),w=null)},500);var E=function(e){var t=e.keyCode||e.which;return t===13?u?($(".modal").modal("hide"),!1):(g()||r.submit(),!1):!0};t.on("keyup",function(e){var t=e.keyCode||e.which;o&&t&&r.popover("hide"),b()}),e.on("keyup",function(e){var t=e.keyCode||e.which;o&&t&&r.popover("hide"),b()}),t.on("change",b),e.on("change",b),t.on("input",b),e.on("input",b),e.on("keypress",E),t.on("keypress",E),n.on("click",function(e){return e.keyCode=13,E(e),!0});var S=window.location.hash;S&&r.find("input[name='hash']").val(S);var N=!0;BrowserInfo.browser==="Explorer"&&BrowserInfo.version<10&&(N=!1);var C=$(".bg-images .bottom"),k=$(".bg-images .top"),L=$(".footer-label"),A=0,O=0,M=!0,_=!1,D,P,H=function(){function n(){if(t)return;t=!0,O%2!==0?N?(C.css("background-image",T(e.src)).css("opacity",1),k.css("opacity",0)):(C.css("background-image",T(e.src)).animate({opacity:1},1500),k.animate({opacity:0},1500)):N?(k.css("background-image",T(e.src)).css("opacity",1),C.css("opacity",0)):(k.css("background-image",T(e.src)).animate({opacity:1},1500),C.animate({opacity:0},1500)),setTimeout(function(){L.addClass("hidden"),L.filter(".bg-"+A+"-footer-label").removeClass("hidden")},1e3),setTimeout(H,7500)}if(!M){_=!0,P=new Date;return}A=(A+1)%6,O=(O+1)%2;var e=new Image,t=!1;e.onload=n,e.src=x(A),e.complete&&n()},B=new Image,j=!1;C.length&&k.length&&($(window).on("blur focus",function(e){var t=$(this).data("prevType");if(t!==e.type)switch(e.type){case"blur":M=!1,D=new Date;break;case"focus":M=!0;if(_){_=!1;var n=7500-(P.getTime()-D.getTime());n<0&&(n=7500),setTimeout(H,n)}}$(this).data("prevType",e.type)}),B.onload=F,B.src=x(0),B.complete&&F())});